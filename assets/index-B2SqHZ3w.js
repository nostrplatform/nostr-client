import{r as d}from"./react-stuff-BXf_FtOc.js";import{f as h}from"./index-BETSscnm.js";const S=t=>{const[e,u]=d.useState(),[k,n]=d.useState("idle"),{ndk:c}=h();return d.useEffect(()=>{n("idle"),t&&(t.constructor===Object&&Object.keys(t).length===0||!t.nip05&&!t.pubkey&&!t.npub||c&&(n("loading"),c.getUser(t).fetchProfile().then(b=>{u(b),n(b?"success":"not-found")}).catch(()=>{u(void 0),n("error")})))},[u,n,t==null?void 0:t.nip05,t==null?void 0:t.pubkey,t==null?void 0:t.npub,t==null?void 0:t.nip46Urls,t==null?void 0:t.relayUrls,c]),{profile:e,status:k}};export{S as u};
